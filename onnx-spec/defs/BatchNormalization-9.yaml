attributes:
- default_value: 9.999999747378752e-06
  description: The epsilon value to use to avoid division by zero.
  name: epsilon
  required: false
  type: AttrType.FLOAT
- default_value: 0.8999999761581421
  description: Factor used in computing the running mean and variance.e.g., running_mean
    = running_mean * momentum + mean * (1 - momentum).
  name: momentum
  required: false
  type: AttrType.FLOAT
deprecated: false
doc: '

  Carries out batch normalization as described in the paper

  https://arxiv.org/abs/1502.03167. Depending on the mode it is being run,

  there are multiple cases for the number of outputs, which we list below:


  Output case #1: Y, mean, var, saved_mean, saved_var (training mode)

  Output case #2: Y (test mode)


  For previous (depreciated) non-spatial cases, implementors are suggested

  to flatten the input shape to (N x C*D1*D2 ..*Dn) before a BatchNormalization Op.

  This operator has **optional** inputs/outputs. See [the doc](IR.md) for more details
  about the representation of optional arguments. An empty string may be used in the
  place of an actual argument''s name to indicate a missing argument. Trailing optional
  arguments (those not followed by an argument that is present) may also be simply
  omitted.

  '
domain: ''
inputs:
- description: Input data tensor from the previous operator; dimensions are in the
    form of (N x C x D1 x D2 ... Dn), where N is the batch size, C is the number of
    channels. Statistics are computed for every channel of C over N and D1 to Dn dimensions.
    For image data, input dimensions become (N x C x H x W). The op also accepts single
    dimension input of size N in which case C is assumed to be 1
  min_arity: 1
  name: X
  tags:
  - differentiable
  type_str: T
- description: Scale tensor of shape (C).
  min_arity: 1
  name: scale
  tags:
  - differentiable
  type_str: T
- description: Bias tensor of shape (C).
  min_arity: 1
  name: B
  tags:
  - differentiable
  type_str: T
- description: running (training) or estimated (testing) mean tensor of shape (C).
  min_arity: 1
  name: mean
  tags:
  - differentiable
  type_str: T
- description: running (training) or estimated (testing) variance tensor of shape
    (C).
  min_arity: 1
  name: var
  tags:
  - differentiable
  type_str: T
max_input: 5
max_output: 5
min_input: 5
min_output: 1
name: BatchNormalization
outputs:
- description: The output tensor of the same shape as X
  min_arity: 1
  name: Y
  tags:
  - differentiable
  type_str: T
- description: The running mean after the BatchNormalization operator.
  min_arity: 1
  name: mean
  tags:
  - optional
  - non-differentiable
  type_str: T
- description: The running variance after the BatchNormalization operator.
  min_arity: 1
  name: var
  tags:
  - optional
  - non-differentiable
  type_str: T
- description: Saved mean used during training to speed up gradient computation.
  min_arity: 1
  name: saved_mean
  tags:
  - optional
  - non-differentiable
  type_str: T
- description: Saved variance used during training to speed up gradient computation.
  min_arity: 1
  name: saved_var
  tags:
  - optional
  - non-differentiable
  type_str: T
since_version: 9
support_level: SupportType.COMMON
type_constraints:
- allowed_type_strs:
  - tensor(float16)
  - tensor(float)
  - tensor(double)
  description: Constrain input and output types to float tensors.
  type_param_str: T
